---
id: custom
title: Custom Authentication
sidebar_position: 1
---
import CustomAuthScheme from '/img/integrations-auth-custom-1.png';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

To develop custom authentication, you need to understand the authentication process.
Below is the workflow from the launcher login to the response on your website.

## How Authentication Works

1. The user enters their username and password in the launcher.
2. The launcher sends a request to your authentication server.
3. The server verifies the credentials and sends a response.
4. The launcher processes the response and grants or denies access.

<p><img className="image-zoom-medium" src={CustomAuthScheme} alt=""/></p>

The image shows 4 stages of request flow. Here is the description of all 4:

1. Request from the launcher to Gml.Backend

<Tabs>
    <TabItem value="curl" label="Curl" default>

        ```curl
        curl
        --location 'http://localhost:5003/api/v1/integrations/auth/signin' \
        --header 'Content-Type: application/json' \
        --data '{
        "Login": "USERNAME",
        "Password": "PASSWORD",
        "2FACode": "2FA_CODE"
    }'
        ```
    </TabItem>
    <TabItem value="javascript" label="JavaScript">
        ```javascript
        const myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        const raw = JSON.stringify({
        "Login": "USERNAME",
        "Password": "PASSWORD",
        "2FACode": "2FA_CODE"
    });
        const requestOptions = {
        method: "POST",
        headers: myHeaders,
        body: raw,
        redirect: "follow"
    };
        fetch("http://localhost:5003/api/v1/integrations/auth/signin", requestOptions)
        .then((response) => response.text())
        .then((result) => console.log(result))
        .catch((error) => console.error(error));
        ```
    </TabItem>
</Tabs>

2. Gml.Backend → Your Website

<Tabs>
    <TabItem value="curl" label="Curl" default>
        ```curl
        curl --location 'http://YOUR_ADDRESS' \
        --header 'Content-Type: application/json' \
        --data '{
        "Login": "USERNAME",
        "Password": "PASSWORD",
        "Totp": "2FA_CODE"
    }'
        ```
    </TabItem>
    <TabItem value="javascript" label="JavaScript">
        ```javascript
        const myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        const raw = JSON.stringify({
        "Login": "USERNAME",
        "Password": "PASSWORD",
        "Totp": "2FA_CODE"
    });
        const requestOptions = {
        method: "POST",
        headers: myHeaders,
        body: raw,
        redirect: "follow"
    };
        fetch("http://YOUR_ADDRESS", requestOptions)
        .then((response) => response.text())
        .then((result) => console.log(result))
        .catch((error) => console.error(error));
        ```
    </TabItem>
    <TabItem value="response" label="Example Response">
        `200` - Successful authentication *
        ```json
        {
            "Login": "GamerVII",
            "UserUuid": "c07a9841-2275-4ba0-8f1c-2e1599a1f22f",
            "IsSlim": true,
            "Message": "Authentication successful"
        }
        ```

        `401` - Authentication error *
        ```json
        {
            "Message": "Invalid username or password"
        }
        ```

        `401` - Authentication error, 2FA required **
        ```json
        {
            "Message": "Enter 2FA verification code"
        }
        ```

        `404` - User not found
        ```json
        {
            "Message": "User not found"
        }
        ```

        `403` - User blocked or no access
        ```json
        {
            "Message": "User is blocked. Reason: Spawn giveaway"
        }
        ```

        \* Note: It is not mandatory to return a body, returning the StatusCode is enough (Required).
        The `Message` and `UserUuid` fields are generated automatically.

        Endpoints **200** and **401** must be implemented ***Mandatory***.

        ** If you want to check two-factor authentication codes, the "Enter 2FA verification code" message is ***Required***.
    </TabItem>
</Tabs>

### Custom Authentication

You can implement your own custom authentication via an Endpoint.
You need to implement a [Web API Endpoint](https://en.wikipedia.org/wiki/Web_API#Endpoints) on your service.

1. Go to the control panel:
`Integrations` → `Authentication` → `Authentication` → `Custom Authentication`
2. Paste the URL of your implemented authentication endpoint (Gml.Backend → Your Website).

> **Important:** Example implementations can be found on [GitHub](https://github.com/GamerVII-NET/Gml.Modules.Auth)
